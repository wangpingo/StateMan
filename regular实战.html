<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>regular实战</title>

</head>
<body>
<!--引入todomvc.css-->
<link rel="stylesheet" href="https://rawgit.com/tastejs/todomvc-common/v0.1.11/base.css">

<div id="todoapp"></div>

<footer id="info">
    <p>Double-click to edit a todo</p>
    <p>Created by @leeluolee</p>
    <p>
        Part of
        <a href="http://todomvc.com">TodoMVC</a>
    </p>
</footer>

<script type='template/regular' id='todomvc'>
    <div>
        <h1>regular-todo</h1>
        <input id="new-todo" on-enter={ this.newTodo(editTodo) } placeholder="What needs to be done?" r-model={ editTodo }></div>
    <section id="main">

        <input id="toggle-all" type="checkbox" name='toggle' on-change={this.toggleAll(todos.length === this.getList('completed').length)} checked={todos.length === this.getList('completed').length }>

        <label for="toggle-all">Mark all as complete</label>
        <ul id="todo-list">
            {#list this.getList(filter) as todo}
            <li  r-class={{'completed': todo.completed, 'editing': todo.editing}}>
            <div class="view">
                <input class="toggle" type="checkbox" r-model={ todo.completed }>
                <label on-dblclick={todo.editing = true}>{ todo.description }</label>
                <button on-click={ todos.splice(todo_index,1) } class="destroy"></button>
            </div>
            <input id="edit" class="edit" on-enter={ todo.editing = false } r-model={todo.description} autofocus></li>
            {/list}
        </ul>
    </section>
    <footer id="footer">
  <span id="todo-count"> <strong>{ this.getList('active').length }</strong>
    { this.getList('active').length === 1 ? 'item' : 'items' } left
  </span>
        <ul id="filters">
            <li>
                <a class="{ filter === 'all'? 'selected' : '' }"  href="javascript:;" on-click={filter='all'}>All</a>
            </li>
            <li>
                <a class="{ filter === 'active'? 'selected' : '' }" href='javascript:;' on-click={filter = 'active'}>Active</a>
            </li>
            <li>
                <a class="{ filter === 'completed'? 'selected' : '' }" href="javascript:;" on-click={filter = 'completed'}>Completed</a>
            </li>
        </ul>
        <button id="clear-completed" on-click={this.clearCompleted()}>Clear completed ({ this.getList('completed').length })</button>
    </footer>
</script>
<!-- 引入regularjs -->
<script src="https://rawgit.com/regularjs/regular/master/dist/regular.js"></script>

</body>
</html>